(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{7943:(e,t,s)=>{Promise.resolve().then(s.bind(s,1376))},1376:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(7437),n=s(2265),r=s(6936);function l(){let{state:e,setTokens:t,setNfts:s}=(0,r.o)(),[l,i]=(0,n.useState)(!1),o=async()=>{let a=e.owner.primaryWallet||(e.wallets.length>0?e.wallets[0].address:null);if(!a){alert("Please set a primary wallet address in your profile or connect a wallet first.");return}i(!0);try{let e=await fetch("/api/assets?address=".concat(a));if(e.ok){let a=await e.json();t(a.tokens||[]),s(a.nfts||[])}else t([{chainId:1,address:"0xA0b86a33E6441b8C4C8C0C8C0C8C0C8C0C8C0C8C",symbol:"ETH",decimals:18,balance:"2.5",name:"Ethereum",valueUsd:5e3},{chainId:1,address:"0xA0b86a33E6441b8C4C8C0C8C0C8C0C8C0C8C0C8C",symbol:"USDC",decimals:6,balance:"1000.0",name:"USD Coin",valueUsd:1e3}]),s([{chainId:1,contract:"0xB0b86a33E6441b8C4C8C0C8C0C8C0C8C0C8C0C8C",tokenId:"1234",collection:"Cool Cats",name:"Cool Cat #1234",image:"https://via.placeholder.com/200x200"}])}catch(e){console.error("Failed to load assets:",e),alert("Failed to load assets. Using demo data instead."),t([{chainId:1,address:"0xA0b86a33E6441b8C4C8C0C8C0C8C0C8C0C8C0C8C",symbol:"ETH",decimals:18,balance:"2.5",name:"Ethereum",valueUsd:5e3},{chainId:1,address:"0xA0b86a33E6441b8C4C8C0C8C0C8C0C8C0C8C0C8C",symbol:"USDC",decimals:6,balance:"1000.0",name:"USD Coin",valueUsd:1e3}]),s([{chainId:1,contract:"0xB0b86a33E6441b8C4C8C0C8C0C8C0C8C0C8C0C8C",tokenId:"1234",collection:"Cool Cats",name:"Cool Cat #1234",image:"https://via.placeholder.com/200x200"}])}finally{i(!1)}};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Asset Discovery"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Load Assets"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Discover tokens and NFTs from your connected wallets."}),(0,a.jsx)("button",{className:"border rounded px-3 py-1 bg-blue-600 text-white hover:bg-blue-700",onClick:o,disabled:l,children:l?"Loading...":"Load Assets"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:["Tokens (",e.tokens.length,")"]}),0===e.tokens.length?(0,a.jsx)("p",{className:"text-gray-500",children:'No tokens found. Click "Load Assets" to discover your tokens.'}):(0,a.jsx)("div",{className:"space-y-3",children:e.tokens.map((e,t)=>(0,a.jsx)("div",{className:"border rounded p-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.symbol}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.name}),(0,a.jsxs)("p",{className:"text-sm",children:["Balance: ",e.balance]})]}),e.valueUsd&&(0,a.jsxs)("p",{className:"text-sm text-green-600",children:["$",e.valueUsd.toLocaleString()]})]})},t))})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:["NFTs (",e.nfts.length,")"]}),0===e.nfts.length?(0,a.jsx)("p",{className:"text-gray-500",children:'No NFTs found. Click "Load Assets" to discover your NFTs.'}):(0,a.jsx)("div",{className:"space-y-3",children:e.nfts.map((e,t)=>(0,a.jsx)("div",{className:"border rounded p-3",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[e.image&&(0,a.jsx)("img",{src:e.image,alt:e.name||"NFT",className:"w-16 h-16 object-cover rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name||"NFT #".concat(e.tokenId)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.collection}),(0,a.jsxs)("p",{className:"text-sm",children:["Token ID: ",e.tokenId]})]})]})},t))})]})]}),(e.tokens.length>0||e.nfts.length>0)&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("a",{href:"/beneficiaries",className:"px-4 py-2 rounded-xl border bg-green-600 text-white hover:bg-green-700",children:"Continue to Beneficiaries â†’"})})]})]})}},6936:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});var a=s(9099),n=s(2290);let r={owner:{fullName:""},wallets:[],tokens:[],nfts:[],beneficiaries:[],assignments:[]};function l(e){localStorage.setItem("lastwish",JSON.stringify(e))}let i=(0,a.Ue)((e,t)=>({state:function(){try{{let e=localStorage.getItem("lastwish");return e?JSON.parse(e):r}}catch(e){return r}}(),setOwner:t=>e(e=>{let s={...e.state,owner:{...e.state.owner,...t}};return l(s),{state:s}}),addBeneficiary:t=>e(e=>{let s={id:(0,n.x0)(),name:t.name||"Unnamed",addressOrEns:t.addressOrEns,email:t.email,relationship:t.relationship,phoneNumber:t.phoneNumber,physicalAddress:t.physicalAddress},a={...e.state,beneficiaries:[...e.state.beneficiaries,s]};return l(a),{state:a}}),removeBeneficiary:t=>e(e=>{let s={...e.state,beneficiaries:e.state.beneficiaries.filter(e=>e.id!==t)};return l(s),{state:s}}),setTokens:t=>e(e=>{let s={...e.state,tokens:t};return l(s),{state:s}}),setNfts:t=>e(e=>{let s={...e.state,nfts:t};return l(s),{state:s}}),addWallet:t=>e(e=>{let s={id:(0,n.x0)(),address:t.address||"",ens:t.ens,blockchain:t.blockchain,walletType:t.walletType},a={...e.state,wallets:[...e.state.wallets,s]};return l(a),{state:a}}),removeWallet:t=>e(e=>{let s={...e.state,wallets:e.state.wallets.filter(e=>e.id!==t)};return l(s),{state:s}}),addAssignment:t=>e(e=>{let s={...e.state,assignments:[...e.state.assignments.filter(e=>e.assetKey!==t.assetKey),t]};return l(s),{state:s}}),removeAssignment:t=>e(e=>{let s={...e.state,assignments:e.state.assignments.filter(e=>e.assetKey!==t)};return l(s),{state:s}}),setPayment:t=>e(e=>{let s={...e.state,payment:t};return l(s),{state:s}}),reset:()=>e(()=>(l(r),{state:r}))}))},2685:(e,t,s)=>{"use strict";var a=s(2265),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useState,l=a.useEffect,i=a.useLayoutEffect,o=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!n(e,s)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),a=r({inst:{value:s,getSnapshot:t}}),n=a[0].inst,d=a[1];return i(function(){n.value=s,n.getSnapshot=t,c(n)&&d({inst:n})},[e,s,t]),l(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),o(s),s};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},4959:(e,t,s)=>{"use strict";var a=s(2265),n=s(4239),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=n.useSyncExternalStore,i=a.useRef,o=a.useEffect,c=a.useMemo,d=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,a,n){var u=i(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var f=l(e,(u=c(function(){function e(e){if(!o){if(o=!0,l=e,e=a(e),void 0!==n&&m.hasValue){var t=m.value;if(n(t,e))return i=t}return i=e}if(t=i,r(l,e))return t;var s=a(e);return void 0!==n&&n(t,s)?t:(l=e,i=s)}var l,i,o=!1,c=void 0===s?null:s;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,s,a,n]))[0],u[1]);return o(function(){m.hasValue=!0,m.value=f},[f]),d(f),f}},4239:(e,t,s)=>{"use strict";e.exports=s(2685)},1290:(e,t,s)=>{"use strict";e.exports=s(4959)},2290:(e,t,s)=>{"use strict";s.d(t,{x0:()=>a});let a=(e=21)=>{let t="",s=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&s[e]];return t}},9099:(e,t,s)=>{"use strict";s.d(t,{Ue:()=>m});let a=e=>{let t;let s=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),s.forEach(s=>s(t,e))}},n=()=>t,r={setState:a,getState:n,getInitialState:()=>l,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},l=t=e(a,n,r);return r},n=e=>e?a(e):a;var r=s(2265),l=s(1290);let{useDebugValue:i}=r,{useSyncExternalStoreWithSelector:o}=l,c=!1,d=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?n(e):e,s=(e,s)=>(function(e,t=d,s){s&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let a=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return i(a),a})(t,e,s);return Object.assign(s,t),s},m=e=>e?u(e):u}},e=>{var t=t=>e(e.s=t);e.O(0,[130,215,744],()=>t(7943)),_N_E=e.O()}]);